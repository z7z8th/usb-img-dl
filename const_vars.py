debug = True
NULL_CHAR  = '\x00'
SECTOR_SIZE = 512


##### usb read

USB_PROGRAMMER_VERIFY_BL_VALIDITY_OFFSET = 0x00000004
USB_PROGRAMMER_CHK_ERASE_RDY_CMD_OFFSET = 0x00000005
USB_PROGRAMMER_GET_BL_SW_VERSION_OFFSET = 0x00000006
USB_PROGRAMMER_GET_DEV_TYPE_OFFSET = 0x00000007
USB_PROGRAMMER_GET_IMG_ADDR_BY_ID = 0x00000011
USB_PROGRAMMER_GET_NAND_SPARE_DATA = 0x00000012

##### usb write

USB_PROGRAMMER_SET_PROG_MODE_CMD = 0x50000100

# 0015, command to tell BB which address is going to be programmed.
USB_PROGRAMMER_SET_PROG_ADDR_CMD = 0x50000104
# Command to tell Magic that the image boot from RAM or FLASH
USB_PROGRAMMER_SET_BOOT_DEVICE = 0x50000200
# Command to tell Magic that the image boot from which address
USB_PROGRAMMER_SET_BOOT_ADDR = 0x50000204
# PC will check the burned image and tell us the status
USB_PROGRAMMER_SET_VERIFICATION_STATUS = 0x50000208

USB_PROGRAMMER_WRITE_BOOT_PARAMETERS = 0x5000020C
# Send Download mode to board's RAM loader
USB_PROGRAMMER_DOWNLOAD_WRITE_LOADER_EXISTENCE = 0x50000210
# PC will set whether enable to write spare data
USB_PROGRAMMER_SET_NAND_SPARE_DATA_CTRL = 0x50000300
# PC will set whether enable to write spare data
USB_PROGRAMMER_ERASE_NAND_CMD = 0x50000301
# PC will write spare date through this command
USB_PROGRAMMER_WR_NAND_SPARE_DATA = 0x50000302
# PC will set the partition start addrss
# and data length in the partition through this command
USB_PROGRAMMER_SET_NAND_PARTITION_INFO = 0x50000303

USB_PROGRAMMER_FINISH_MAGIC_WORD = 0x5a5a5a5a


SECTOR_SIZE          = 0x200	  # 512 
SECTOR_NUM_PER_OP    = 0x80	      # 128 
SECTOR_NUM_PER_WRITE = SECTOR_NUM_PER_OP  # 128 
SECTOR_NUM_PER_READ  = SECTOR_NUM_PER_OP  # 128 
YAFFS2_2K_SIZE       = 4 * SECTOR_SIZE         # 2048 
YAFFS2_SPARE2K_SIZE  = 4 * SECTOR_SIZE / 32    # 64 
SIZE_PER_WRITE       = SECTOR_NUM_PER_WRITE * SECTOR_SIZE	  # 65536 
SIZE_PER_READ        = SECTOR_NUM_PER_READ  * SECTOR_SIZE	  # 65536 


# 1228 Partition = 
IM9828_NAND_OFFSET = 0x0
IM9828_NAND_LENGTH = 0x20000000
# DYN_ID = 
DYN_ID_INIT_OFFSET = 0x00020000
DYN_ID_INIT_LENGTH = (15*0x00020000)
DYN_ID_SIZE = 0x00020000

# IMEI = 
IMEI_SECTOR_NUM = 0x8	# 8 
IMEI_SN_DATA_SIZE = 0x00000080
IMEIR_SN_SECTOR_SIZE = 0x00002000

# Default = 1228 H/W Resource Allocation  
# Old = 
# DYN_ID = Raw Data 
OLD_IM9828_MISC_OFFSET = 0x00000000
OLD_IM9828_MISC_LENGTH = 0x00200000

# Raw = Data 
OLD_PS_MODEM_OFFSET = 0x00200000
OLD_PS_MODEM_LENGTH = 0x00400000
OLD_BOOTIMG_OFFSET = 0x00800000
OLD_BOOTIMG_LENGTH = 0x00300000
OLD_RECOVERY_OFFSET = 0x00B00000
OLD_RECOVERY_LENGTH = 0x00300000

# Yaffs2 = 
OLD_MDATA_OFFSET = 0x00600000
OLD_MDATA_LENGTH = 0x00200000
OLD_SYSTEM_OFFSET = 0x00E00000
OLD_SYSTEM_LENGTH = 0x08000000
OLD_UDATA_OFFSET = 0x08E00000
OLD_UDATA_LENGTH = 0x14000000
OLD_CACHE_OFFSET = 0x1CE00000
OLD_CACHE_LENGTH = 0x03000000

# New = 
# DYN_ID = Raw Data 
IM9828_MISC_OFFSET = 0x00000000
IM9828_MISC_LENGTH = 0x00200000

# Raw = Data 
PS_MODEM_OFFSET = 0x00200000
PS_MODEM_LENGTH = 0x00800000
BOOTIMG_OFFSET = 0x00C00000
BOOTIMG_LENGTH = 0x00400000
RECOVERY_OFFSET = 0x01000000
RECOVERY_LENGTH = 0x00400000

# Yaffs2 = 
MDATA_OFFSET = 0x00A00000
MDATA_LENGTH = 0x00200000
SYSTEM_OFFSET = 0x01400000
SYSTEM_LENGTH = 0x08000000
UDATA_OFFSET = 0x09400000
UDATA_LENGTH = 0x13C00000
CACHE_OFFSET = 0x1D000000
CACHE_LENGTH = 0x03000000


# Erase  size 
CFG_MAX_ERASE_SIZE = True
NAND_ERASE_MAX_LEN_PER_TIME = 0x08000000
NAND_ERASE_MIN_LEN_PER_TIME = 0x00200000 # MData: 2M 
